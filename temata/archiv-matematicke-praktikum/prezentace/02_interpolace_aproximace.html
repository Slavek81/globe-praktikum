<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interpolace a aproximace - Matematick√© praktikum</title>
    <!-- Import pro renderov√°n√≠ LaTeX matematick√Ωch vzorc≈Ø -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <link rel="stylesheet" href="unified-style.css">

    <style>
        /* Additional styles for calculators and interactive elements */
        .calculator {
            background: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 12px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .calc-input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 0.3rem 0;
            font-size: 0.9rem;
        }

        .calc-result {
            background: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            display: none;
        }

        .calc-result.visible {
            display: block;
        }

        .calc-button {
            background: #ff9800;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 0.5rem;
        }

        .calc-button:hover {
            background: #f57c00;
        }

        .info-box {
            background: #e8f4fd;
            border: 1px solid #2196f3;
            border-left: 4px solid #2196f3;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
        }

        .method-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-left: 6px solid #bc5090;
        }

        .interpolation-card { border-left-color: #bc5090; }
        .approximation-card { border-left-color: #ff6361; }
        .polynomial-card { border-left-color: #ffa600; }
        .spline-card { border-left-color: #58508d; }
    </style>
</head>
<body>
    <main>
        <header>
            <h1>Interpolace a aproximace</h1>
            <p>Metody zpracov√°n√≠ dat pro z√≠sk√°n√≠ kontinu√°ln√≠ch funkc√≠ z diskr√©tn√≠ch bod≈Ø</p>
        </header>

        <section class="intro-box">
            <h2>Co je interpolace a aproximace?</h2>
            <p>P≈ôedstavte si, ≈æe m√°te namƒõ≈ôen√° data v nƒõkolika bodech a pot≈ôebujete odhadnout hodnoty mezi tƒõmito body nebo naj√≠t obecn√Ω trend. <strong>Interpolace a aproximace</strong> jsou matematick√© metody, kter√© n√°m pomohou vytvo≈ôit spojit√© funkce z diskr√©tn√≠ch dat.</p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                <div style="background: linear-gradient(135deg, #bc5090, #ff6361); color: white; padding: 2rem; border-radius: 12px; text-align: center;">
                    <h3 style="color: white; margin-bottom: 1rem; font-size: 1.5rem;">INTERPOLACE</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 0.5rem;">Proch√°z√≠me p≈ôesnƒõ v≈°emi dan√Ωmi body</p>
                    <p style="font-size: 0.9rem; opacity: 0.9;">f(xi) = yi pro v≈°echna i</p>
                </div>
                <div style="background: linear-gradient(135deg, #ffa600, #58508d); color: white; padding: 2rem; border-radius: 12px; text-align: center;">
                    <h3 style="color: white; margin-bottom: 1rem; font-size: 1.5rem;">APROXIMACE</h3>
                    <p style="font-size: 1.1rem; margin-bottom: 0.5rem;">Hled√°me nejlep≈°√≠ celkov√Ω trend</p>
                    <p style="font-size: 0.9rem; opacity: 0.9;">Minimalizujeme celkovou chybu</p>
                </div>
            </div>

            <div class="info-box">
                <h3>Kl√≠ƒçov√Ω rozd√≠l</h3>
                <p><strong>Interpolace</strong> p≈ôesnƒõ proch√°z√≠ v≈°emi body, <strong>aproximace (regrese)</strong> hled√° nejlep≈°√≠ celkov√Ω fit pro cel√Ω dataset. Interpolace je vhodn√° pro p≈ôesn√° data, aproximace pro data s chybami a pro hled√°n√≠ trend≈Ø.</p>
            </div>
        </section>

        <!-- Concept Comparison Graph -->
        <section class="unit-section">
            <h2>Vizu√°ln√≠ srovn√°n√≠ p≈ô√≠stup≈Ø</h2>
            <div class="example">
                <div style="background: white; border-radius: 12px; padding: 1rem; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #58508d;">
                    <div id="concept-comparison" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- Linear Interpolation -->
        <section class="unit-section">
            <h2>1. Line√°rn√≠ interpolace</h2>
            <p><strong>Princip:</strong> Nejjednodu≈°≈°√≠ metoda interpolace. Spojujeme sousedn√≠ body p≈ô√≠mkami. Je to ekvivalent "spojov√°n√≠ teƒçek" rovn√Ωmi ƒçarami.</p>

            <div class="equations">
                <h3>Matematick√Ω vzorec</h3>
                <p><strong>Pro body (x‚ÇÄ, y‚ÇÄ) a (x‚ÇÅ, y‚ÇÅ):</strong>
                $$ y = y_0 + (y_1 - y_0) \cdot \frac{x - x_0}{x_1 - x_0} $$</p>

                <h4>Postup v√Ωpoƒçtu:</h4>
                <ol>
                    <li>Najdeme dva nejbli≈æ≈°√≠ body (x‚ÇÄ, y‚ÇÄ) a (x‚ÇÅ, y‚ÇÅ)</li>
                    <li>Pou≈æijeme vzorec pro p≈ô√≠mku proch√°zej√≠c√≠ tƒõmito body</li>
                    <li>Vypoƒçteme hodnotu y pro po≈æadovan√© x</li>
                </ol>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                <div>
                    <div class="method-card interpolation-card">
                        <h4>‚úÖ V√Ωhody:</h4>
                        <ul>
                            <li><strong>Jednoduchost:</strong> Rychl√° implementace a v√Ωpoƒçet</li>
                            <li><strong>Stabilita:</strong> V≈ædy funguje pro dva body</li>
                            <li><strong>Monot√≥nnost:</strong> Zachov√°v√° monot√≥nnost dat</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="method-card approximation-card">
                        <h4>‚ùå Nev√Ωhody:</h4>
                        <ul>
                            <li><strong>Nespojit√° derivace:</strong> "Zlomy" v bodech</li>
                            <li><strong>Nen√≠ hladk√°:</strong> Viditeln√© p≈ôechody mezi √∫seky</li>
                            <li><strong>Omezen√° p≈ôesnost:</strong> Jen pro lok√°ln√≠ aproximace</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="calculator">
                <h4>Kalkul√°tor line√°rn√≠ interpolace</h4>
                <label>x‚ÇÄ: <input type="number" id="x0" class="calc-input" value="1" step="0.1"></label>
                <label>y‚ÇÄ: <input type="number" id="y0" class="calc-input" value="2" step="0.1"></label>
                <label>x‚ÇÅ: <input type="number" id="x1" class="calc-input" value="3" step="0.1"></label>
                <label>y‚ÇÅ: <input type="number" id="y1" class="calc-input" value="6" step="0.1"></label>
                <label>x (hledan√©): <input type="number" id="x-interp" class="calc-input" value="2" step="0.1"></label>
                <button class="calc-button" onclick="calculateLinearInterpolation()">Vypoƒç√≠tej</button>
                <div id="linear-result" class="calc-result"></div>
            </div>

            <div class="example">
                <h3>Vizualizace metody</h3>
                <div style="background: white; border-radius: 12px; padding: 1rem; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #58508d;">
                    <div id="linear-interpolation" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- Polynomial Interpolation -->
        <section class="unit-section">
            <h2>2. Polynomi√°ln√≠ interpolace</h2>
            <p><strong>Princip:</strong> Pro n bod≈Ø hled√°me polynom stupnƒõ n-1, kter√Ω proch√°z√≠ v≈°emi body. Nejƒçastƒõji pou≈æ√≠v√°me Lagrangeovu metodu.</p>

            <div class="equations">
                <h3>Lagrangeova metoda</h3>
                <p><strong>Obecn√Ω vzorec:</strong>
                $$ L(x) = \sum_{i=0}^{n-1} y_i \cdot l_i(x) $$
                kde
                $$ l_i(x) = \prod_{\substack{j=0 \\ j \neq i}}^{n-1} \frac{x - x_j}{x_i - x_j} $$</p>

                <h4>Vlastnosti polynomi√°ln√≠ interpolace:</h4>
                <ul>
                    <li><strong>Jednoznaƒçnost:</strong> Pro n bod≈Ø existuje jedin√Ω polynom stupnƒõ n-1</li>
                    <li><strong>Hladkost:</strong> Polynom je nekoneƒçnƒõkr√°t diferencovateln√Ω</li>
                    <li><strong>Glob√°ln√≠ charakter:</strong> Zmƒõna jednoho bodu ovlivn√≠ cel√Ω polynom</li>
                </ul>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                <div>
                    <div class="method-card polynomial-card">
                        <h4>‚úÖ V√Ωhody:</h4>
                        <ul>
                            <li><strong>Hladk√° k≈ôivka:</strong> Nekoneƒçnƒõkr√°t diferencovateln√°</li>
                            <li><strong>Jednoznaƒçnost:</strong> V≈ædy existuje jedin√© ≈ôe≈°en√≠</li>
                            <li><strong>Analytick√° forma:</strong> M√°me explicitn√≠ vzorec</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="method-card spline-card">
                        <h4>‚ùå Nev√Ωhody:</h4>
                        <ul>
                            <li><strong>Runge≈Øv fenom√©n:</strong> Oscilace na kraj√≠ch intervalu</li>
                            <li><strong>Vysok√Ω stupe≈à:</strong> Pro v√≠ce bod≈Ø nestabiln√≠</li>
                            <li><strong>Glob√°ln√≠ povaha:</strong> Zmƒõna jednoho bodu ovlivn√≠ v≈°e</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h4>P≈ô√≠klad pro 3 body</h4>
                <p><strong>Body:</strong> (0,1), (1,4), (2,1)</p>
                <p><strong>Polynom 2. stupnƒõ:</strong> \(y = -2x^2 + 5x + 1\)</p>
                <p><strong>Ovƒõ≈ôen√≠:</strong> f(0)=1, f(1)=4, f(2)=1 ‚úì</p>
            </div>

            <div class="example">
                <h3>Vizualizace metody</h3>
                <div style="background: white; border-radius: 12px; padding: 1rem; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #58508d;">
                    <div id="polynomial-interpolation" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- Spline Interpolation -->
        <section class="unit-section">
            <h2>3. Kubick√© spliny</h2>
            <p><strong>Princip:</strong> Nejlep≈°√≠ kompromis mezi hladkost√≠ a stabilitou. Pou≈æ√≠v√°me kubick√© polynomy po ƒç√°stech s podm√≠nkami spojitosti derivac√≠.</p>

            <div class="equations">
                <h3>Podm√≠nky pro kubick√Ω spline</h3>
                <p><strong>Na ka≈æd√©m intervalu [x·µ¢, x·µ¢‚Çä‚ÇÅ]:</strong>
                $$ S_i(x) = a_i + b_i(x - x_i) + c_i(x - x_i)^2 + d_i(x - x_i)^3 $$</p>

                <h4>Podm√≠nky spojitosti:</h4>
                <ol>
                    <li><strong>Interpolace:</strong> S(x·µ¢) = y·µ¢ pro v≈°echna i</li>
                    <li><strong>Spojitost funkce:</strong> S je spojit√°</li>
                    <li><strong>Spojitost 1. derivace:</strong> S' je spojit√°</li>
                    <li><strong>Spojitost 2. derivace:</strong> S'' je spojit√°</li>
                </ol>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                <div>
                    <div class="method-card spline-card">
                        <h4>‚úÖ V√Ωhody splin≈Ø:</h4>
                        <ul>
                            <li><strong>Minim√°ln√≠ oscilace:</strong> Nejhlad≈°√≠ mo≈æn√° k≈ôivka</li>
                            <li><strong>Lok√°ln√≠ charakter:</strong> Zmƒõna bodu ovlivn√≠ jen okol√≠</li>
                            <li><strong>Numerick√° stabilita:</strong> Dob≈ôe podm√≠nƒõn√° √∫loha</li>
                            <li><strong>P≈ôirozen√Ω vzhled:</strong> K≈ôivky vypadaj√≠ "p≈ôirozenƒõ"</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="info-box">
                        <h4>Pou≈æit√≠ v praxi</h4>
                        <ul>
                            <li><strong>CAD syst√©my:</strong> N√°vrh k≈ôivek a povrch≈Ø</li>
                            <li><strong>Animace:</strong> Hladk√© trajektorie</li>
                            <li><strong>Vƒõdeck√© aplikace:</strong> Interpolace experiment√°ln√≠ch dat</li>
                            <li><strong>Grafika:</strong> Vyhlazov√°n√≠ k≈ôivek</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="example">
                <h3>Srovn√°n√≠ s line√°rn√≠ interpolac√≠</h3>
                <div style="background: white; border-radius: 12px; padding: 1rem; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #58508d;">
                    <div id="spline-interpolation" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- Linear Regression -->
        <section class="unit-section">
            <h2>4. Line√°rn√≠ regrese (metoda nejmen≈°√≠ch ƒçtverc≈Ø)</h2>
            <p><strong>Princip:</strong> Hled√°me p≈ô√≠mku, kter√° nejl√©pe popisuje trend v datech. Minimalizujeme souƒçet ƒçtverc≈Ø odchylek od t√©to p≈ô√≠mky.</p>

            <div class="equations">
                <h3>Matematick√© odvozen√≠</h3>
                <p><strong>Hled√°me p≈ô√≠mku:</strong> \(y = ax + b\)</p>
                <p><strong>Minimalizujeme:</strong> \(\sum_{i=1}^{n} (y_i - (ax_i + b))^2\)</p>
                <p><strong>≈òe≈°en√≠:</strong>
                $$ a = \frac{n\sum x_i y_i - \sum x_i \sum y_i}{n\sum x_i^2 - (\sum x_i)^2} $$
                $$ b = \frac{\sum y_i - a\sum x_i}{n} $$</p>

                <h4>Korelaƒçn√≠ koeficient</h4>
                <p><strong>M√≠ra line√°rn√≠ z√°vislosti:</strong>
                $$ r = \frac{n\sum x_i y_i - \sum x_i \sum y_i}{\sqrt{(n\sum x_i^2 - (\sum x_i)^2)(n\sum y_i^2 - (\sum y_i)^2)}} $$</p>
                <p><strong>Interpretace:</strong> r ‚àà [-1, 1], |r| > 0.8 znamen√° silnou line√°rn√≠ z√°vislost</p>
            </div>

            <div class="calculator">
                <h4>Kalkul√°tor line√°rn√≠ regrese</h4>
                <p>Zadej body (x,y) oddƒõlen√© ƒç√°rkami a st≈ôedn√≠ky:</p>
                <input type="text" id="regression-points" class="calc-input"
                       value="1,2;2,3;3,5;4,4;5,6" placeholder="x1,y1;x2,y2;...">
                <button class="calc-button" onclick="calculateLinearRegression()">Vypoƒç√≠tej regresi</button>
                <div id="regression-result" class="calc-result"></div>
            </div>

            <div class="example">
                <h3>Vizualizace metody</h3>
                <div style="background: white; border-radius: 12px; padding: 1rem; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #58508d;">
                    <div id="linear-regression" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- Polynomial Regression -->
        <section class="unit-section">
            <h2>5. Polynomi√°ln√≠ a exponenci√°ln√≠ regrese</h2>
            <p><strong>Princip:</strong> Roz≈°√≠≈ôen√≠ line√°rn√≠ regrese pro slo≈æitƒõj≈°√≠ trendy. Pou≈æ√≠v√°me vy≈°≈°√≠ stupnƒõ polynom≈Ø nebo exponenci√°ln√≠ funkce.</p>

            <div class="equations">
                <h3>Typy regres√≠</h3>

                <div class="method-card polynomial-card">
                    <h4>Polynomi√°ln√≠ regrese</h4>
                    <p><strong>Obecn√Ω tvar:</strong> \(y = a_0 + a_1x + a_2x^2 + \ldots + a_nx^n\)</p>
                    <p><strong>Pou≈æit√≠:</strong> Data s v√≠ce lok√°ln√≠mi extr√©my, k≈ôivky s inflexn√≠mi body</p>
                </div>

                <div class="method-card approximation-card">
                    <h4>Exponenci√°ln√≠ regrese</h4>
                    <p><strong>Exponenci√°ln√≠:</strong> \(y = ae^{bx}\)</p>
                    <p><strong>Mocninn√°:</strong> \(y = ax^b\)</p>
                    <p><strong>Pou≈æit√≠:</strong> R≈Østov√© procesy, rozpadov√© procesy, biologick√© modely</p>
                </div>

                <h4>Koeficient determinace R¬≤</h4>
                <p><strong>Kvalita fitu:</strong>
                $$ R^2 = 1 - \frac{\sum(y_i - \hat{y}_i)^2}{\sum(y_i - \bar{y})^2} $$</p>
                <p><strong>Interpretace:</strong> R¬≤ ‚àà [0, 1], vy≈°≈°√≠ hodnoty = lep≈°√≠ fit</p>
            </div>

            <div class="info-box">
                <h4>Volba stupnƒõ polynomu</h4>
                <ul>
                    <li><strong>Stupe≈à 1:</strong> Line√°rn√≠ trend (p≈ô√≠mka)</li>
                    <li><strong>Stupe≈à 2:</strong> Parabola (jeden extr√©m)</li>
                    <li><strong>Stupe≈à 3:</strong> Kubika (inflexn√≠ bod, dva extr√©my)</li>
                    <li><strong>Vy≈°≈°√≠ stupnƒõ:</strong> Pozor na p≈ôeuƒçen√≠ (overfitting)!</li>
                </ul>
            </div>

            <div class="example">
                <h3>Srovn√°n√≠ line√°rn√≠ a kvadratick√© regrese</h3>
                <div style="background: white; border-radius: 12px; padding: 1rem; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border: 2px solid #58508d;">
                    <div id="polynomial-regression" style="height: 400px;"></div>
                </div>
            </div>
        </section>

        <!-- Comparison Section -->
        <section class="unit-section">
            <h2>6. Srovn√°n√≠ metod a praktick√© pou≈æit√≠</h2>

            <h3>Kdy pou≈æ√≠t kterou metodu?</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                <div>
                    <h4>Interpolace - kdy pou≈æ√≠t?</h4>
                    <ul>
                        <li>M√°me p≈ôesn√© hodnoty v nƒõkolika bodech</li>
                        <li>Chceme odhadnout hodnoty mezi mƒõ≈ôen√≠mi</li>
                        <li>Data jsou bez chyb nebo s mal√Ωmi chybami</li>
                        <li><strong>P≈ô√≠klady:</strong> tabulky funkc√≠, technick√© grafy, CAD syst√©my</li>
                    </ul>
                </div>
                <div>
                    <h4>Aproximace - kdy pou≈æ√≠t?</h4>
                    <ul>
                        <li>M√°me velk√Ω dataset s experiment√°ln√≠mi chybami</li>
                        <li>Chceme naj√≠t obecn√Ω trend v datech</li>
                        <li>Pot≈ôebujeme model pro p≈ôedpovƒõdi</li>
                        <li><strong>P≈ô√≠klady:</strong> ekonomick√° data, biologick√© v√Ωzkumy, fyzik√°ln√≠ experimenty</li>
                    </ul>
                </div>
            </div>

            <h3>Srovn√°vac√≠ tabulka metod</h3>
            <table>
                <tr><th>Metoda</th><th>Typ</th><th>V√Ωhody</th><th>Nev√Ωhody</th><th>Typick√© pou≈æit√≠</th></tr>
                <tr><td><strong>Line√°rn√≠ interpolace</strong></td><td>Interpolace</td><td>Jednoduch√°, rychl√°</td><td>Nen√≠ hladk√°</td><td>Z√°kladn√≠ odhady</td></tr>
                <tr><td><strong>Polynomi√°ln√≠ interpolace</strong></td><td>Interpolace</td><td>Hladk√° k≈ôivka</td><td>Oscilace, nestabilita</td><td>M√°lo bod≈Ø (< 6)</td></tr>
                <tr><td><strong>Kubick√© spliny</strong></td><td>Interpolace</td><td>Hladk√©, stabiln√≠</td><td>Slo≈æitƒõj≈°√≠ v√Ωpoƒçet</td><td>Technick√© aplikace</td></tr>
                <tr><td><strong>Line√°rn√≠ regrese</strong></td><td>Aproximace</td><td>Robustn√≠, interpretovateln√°</td><td>Pouze line√°rn√≠ trendy</td><td>Z√°kladn√≠ anal√Ωzy</td></tr>
                <tr><td><strong>Polynomi√°ln√≠ regrese</strong></td><td>Aproximace</td><td>Slo≈æitƒõj≈°√≠ trendy</td><td>P≈ôeuƒçen√≠, nestabilita</td><td>Neline√°rn√≠ z√°vislosti</td></tr>
            </table>

            <h3>Praktick√° doporuƒçen√≠</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin: 2rem 0;">
                <div style="background: #e8f5e8; padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>üí° Tip pro praxi</strong><br>
                    <span style="font-size: 0.9rem;">Zaƒçnƒõte jednodu≈°e, postupnƒõ p≈ôid√°vejte slo≈æitost</span>
                </div>
                <div style="background: #fff3e0; padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>‚ö†Ô∏è Pozor</strong><br>
                    <span style="font-size: 0.9rem;">Vysok√Ω stupe≈à ‚â† lep≈°√≠ v√Ωsledek</span>
                </div>
                <div style="background: #e3f2fd; padding: 1rem; border-radius: 8px; text-align: center;">
                    <strong>üìä Validace</strong><br>
                    <span style="font-size: 0.9rem;">V≈ædy ovƒõ≈ôte v√Ωsledky na testovac√≠ch datech</span>
                </div>
            </div>

            <div class="info-box">
                <h4>Rozhodovac√≠ strom pro v√Ωbƒõr metody</h4>
                <ol>
                    <li><strong>M√°te p≈ôesn√° data bez chyb?</strong> ‚Üí Interpolace</li>
                    <li><strong>M√°te experiment√°ln√≠ data s chybami?</strong> ‚Üí Aproximace (regrese)</li>
                    <li><strong>Pro interpolaci: Kolik bod≈Ø m√°te?</strong>
                        <ul>
                            <li>2 body ‚Üí Line√°rn√≠ interpolace</li>
                            <li>3-5 bod≈Ø ‚Üí Polynomi√°ln√≠ interpolace</li>
                            <li>V√≠ce bod≈Ø ‚Üí Kubick√© spliny</li>
                        </ul>
                    </li>
                    <li><strong>Pro regresi: Jak√Ω trend vid√≠te?</strong>
                        <ul>
                            <li>Line√°rn√≠ ‚Üí Line√°rn√≠ regrese</li>
                            <li>Zak≈ôiven√Ω ‚Üí Polynomi√°ln√≠ regrese</li>
                            <li>Exponenci√°ln√≠ r≈Øst ‚Üí Exponenci√°ln√≠ regrese</li>
                        </ul>
                    </li>
                </ol>
            </div>
        </section>

    </main>

    <script>
        // Configure MathJax
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['$$', '$$']],
                processEscapes: true,
                processEnvironments: true
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
            }
        };

        // Calculator functions
        function calculateLinearInterpolation() {
            const x0 = parseFloat(document.getElementById('x0').value);
            const y0 = parseFloat(document.getElementById('y0').value);
            const x1 = parseFloat(document.getElementById('x1').value);
            const y1 = parseFloat(document.getElementById('y1').value);
            const x = parseFloat(document.getElementById('x-interp').value);

            const y = y0 + (y1 - y0) * (x - x0) / (x1 - x0);

            const result = document.getElementById('linear-result');
            result.innerHTML = `
                <h4>V√Ωsledek line√°rn√≠ interpolace:</h4>
                <p><strong>y(${x}) = ${y.toFixed(3)}</strong></p>
                <p>Vzorec: y = ${y0} + (${y1} - ${y0}) √ó (${x} - ${x0})/(${x1} - ${x0})</p>
                <p>Substituce: y = ${y0} + ${(y1 - y0).toFixed(3)} √ó ${((x - x0)/(x1 - x0)).toFixed(3)} = ${y.toFixed(3)}</p>
            `;
            result.classList.add('visible');
        }

        function calculateLinearRegression() {
            const input = document.getElementById('regression-points').value;
            const points = input.split(';').map(point => {
                const [x, y] = point.split(',').map(parseFloat);
                return {x, y};
            });

            const n = points.length;
            const sumX = points.reduce((sum, p) => sum + p.x, 0);
            const sumY = points.reduce((sum, p) => sum + p.y, 0);
            const sumXY = points.reduce((sum, p) => sum + p.x * p.y, 0);
            const sumX2 = points.reduce((sum, p) => sum + p.x * p.x, 0);
            const sumY2 = points.reduce((sum, p) => sum + p.y * p.y, 0);

            const a = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
            const b = (sumY - a * sumX) / n;

            // Correlation coefficient
            const r = (n * sumXY - sumX * sumY) / Math.sqrt((n * sumX2 - sumX * sumX) * (n * sumY2 - sumY * sumY));

            const result = document.getElementById('regression-result');
            result.innerHTML = `
                <h4>V√Ωsledek line√°rn√≠ regrese:</h4>
                <p><strong>y = ${a.toFixed(3)}x + ${b.toFixed(3)}</strong></p>
                <p>Korelaƒçn√≠ koeficient: r = ${r.toFixed(3)}</p>
                <p>Kvalita fitu: ${Math.abs(r) > 0.8 ? 'Siln√°' : Math.abs(r) > 0.5 ? 'St≈ôedn√≠' : 'Slab√°'} z√°vislost</p>
                <p>R¬≤ = ${(r*r).toFixed(3)} (${(r*r*100).toFixed(1)}% variability vysvƒõtleno)</p>
            `;
            result.classList.add('visible');

            // Update regression graph
            createLinearRegressionGraph(points, a, b);
        }

        // Graph functions
        function createConceptComparison() {
            // Sample data points
            const points = [
                {x: 1, y: 2},
                {x: 2, y: 3.5},
                {x: 3, y: 2.8},
                {x: 4, y: 4.2},
                {x: 5, y: 4.8}
            ];

            // Interpolation (spline-like)
            const interpX = [];
            const interpY = [];
            for (let x = 1; x <= 5; x += 0.1) {
                interpX.push(x);
                // Simple cubic interpolation approximation
                let y = 2 + 0.5*x + 0.1*x*x - 0.02*x*x*x;
                if (x > 2.5) y += Math.sin((x-2.5)*3) * 0.3;
                interpY.push(y);
            }

            // Linear regression
            const n = points.length;
            const sumX = points.reduce((sum, p) => sum + p.x, 0);
            const sumY = points.reduce((sum, p) => sum + p.y, 0);
            const sumXY = points.reduce((sum, p) => sum + p.x * p.y, 0);
            const sumX2 = points.reduce((sum, p) => sum + p.x * p.x, 0);
            const a = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
            const b = (sumY - a * sumX) / n;

            const regressionX = [1, 5];
            const regressionY = [a * 1 + b, a * 5 + b];

            const traces = [
                {
                    x: points.map(p => p.x),
                    y: points.map(p => p.y),
                    mode: 'markers',
                    marker: {color: 'black', size: 10},
                    name: 'Namƒõ≈ôen√° data'
                },
                {
                    x: interpX,
                    y: interpY,
                    mode: 'lines',
                    line: {color: '#bc5090', width: 3},
                    name: 'Interpolace (proch√°z√≠ v≈°emi body)'
                },
                {
                    x: regressionX,
                    y: regressionY,
                    mode: 'lines',
                    line: {color: '#ffa600', width: 3, dash: 'dash'},
                    name: 'Regrese (nejlep≈°√≠ fit)'
                }
            ];

            const layout = {
                title: 'Interpolace vs. Aproximace',
                xaxis: {title: 'x'},
                yaxis: {title: 'y'},
                showlegend: true,
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('concept-comparison', traces, layout, {responsive: true});
        }

        function createLinearInterpolation() {
            const x0 = 1, y0 = 2, x1 = 3, y1 = 6;

            const lineX = [x0, x1];
            const lineY = [y0, y1];

            // Interpolated point
            const x = 2;
            const y = y0 + (y1 - y0) * (x - x0) / (x1 - x0);

            const traces = [
                {
                    x: [x0, x1],
                    y: [y0, y1],
                    mode: 'markers',
                    marker: {color: 'blue', size: 12},
                    name: 'Zn√°m√© body'
                },
                {
                    x: lineX,
                    y: lineY,
                    mode: 'lines',
                    line: {color: '#bc5090', width: 3},
                    name: 'Line√°rn√≠ interpolace'
                },
                {
                    x: [x],
                    y: [y],
                    mode: 'markers',
                    marker: {color: 'red', size: 12, symbol: 'star'},
                    name: 'Interpolovan√Ω bod'
                }
            ];

            const layout = {
                title: 'Line√°rn√≠ interpolace',
                xaxis: {title: 'x', range: [0.5, 3.5]},
                yaxis: {title: 'y', range: [1, 7]},
                showlegend: true,
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('linear-interpolation', traces, layout, {responsive: true});
        }

        function createPolynomialInterpolation() {
            const points = [
                {x: 0, y: 1},
                {x: 1, y: 4},
                {x: 2, y: 1},
                {x: 3, y: 6}
            ];

            // Polynomial through all points (degree 3)
            const polyX = [];
            const polyY = [];
            for (let x = -0.5; x <= 3.5; x += 0.05) {
                polyX.push(x);
                // Lagrange interpolation result (calculated separately)
                const y = 1 + 7.5*x - 4.5*x*x + 0.5*x*x*x;
                polyY.push(y);
            }

            const traces = [
                {
                    x: points.map(p => p.x),
                    y: points.map(p => p.y),
                    mode: 'markers',
                    marker: {color: 'black', size: 12},
                    name: 'Body k interpolaci'
                },
                {
                    x: polyX,
                    y: polyY,
                    mode: 'lines',
                    line: {color: '#ffa600', width: 3},
                    name: 'Polynom 3. stupnƒõ'
                }
            ];

            const layout = {
                title: 'Polynomi√°ln√≠ interpolace',
                xaxis: {title: 'x', range: [-0.5, 3.5]},
                yaxis: {title: 'y'},
                showlegend: true,
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('polynomial-interpolation', traces, layout, {responsive: true});
        }

        function createSplineInterpolation() {
            const points = [
                {x: 0, y: 0},
                {x: 1, y: 1},
                {x: 2, y: 4},
                {x: 3, y: 3},
                {x: 4, y: 2},
                {x: 5, y: 5}
            ];

            // Smooth spline approximation
            const splineX = [];
            const splineY = [];
            for (let x = 0; x <= 5; x += 0.05) {
                splineX.push(x);
                // Smooth curve through points
                let y = 0;
                if (x <= 1) y = x;
                else if (x <= 2) y = 1 + 3*(x-1) - 2*(x-1)*(x-1) + (x-1)*(x-1)*(x-1);
                else if (x <= 3) y = 4 - (x-2) - 0.5*(x-2)*(x-2);
                else if (x <= 4) y = 3 - (x-3) + 0.5*(x-3)*(x-3);
                else y = 2 + 3*(x-4) - (x-4)*(x-4) + 0.5*(x-4)*(x-4)*(x-4);
                splineY.push(y);
            }

            // Linear interpolation for comparison
            const linearX = [];
            const linearY = [];
            for (let i = 0; i < points.length - 1; i++) {
                const p1 = points[i];
                const p2 = points[i + 1];
                for (let x = p1.x; x <= p2.x; x += 0.05) {
                    linearX.push(x);
                    const y = p1.y + (p2.y - p1.y) * (x - p1.x) / (p2.x - p1.x);
                    linearY.push(y);
                }
            }

            const traces = [
                {
                    x: points.map(p => p.x),
                    y: points.map(p => p.y),
                    mode: 'markers',
                    marker: {color: 'black', size: 10},
                    name: 'Kontroln√≠ body'
                },
                {
                    x: linearX,
                    y: linearY,
                    mode: 'lines',
                    line: {color: 'gray', width: 2, dash: 'dash'},
                    name: 'Line√°rn√≠ interpolace'
                },
                {
                    x: splineX,
                    y: splineY,
                    mode: 'lines',
                    line: {color: '#58508d', width: 3},
                    name: 'Kubick√Ω spline'
                }
            ];

            const layout = {
                title: 'Kubick√© spliny vs. line√°rn√≠ interpolace',
                xaxis: {title: 'x'},
                yaxis: {title: 'y'},
                showlegend: true,
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('spline-interpolation', traces, layout, {responsive: true});
        }

        function createLinearRegressionGraph(points = null, a = null, b = null) {
            if (!points) {
                points = [
                    {x: 1, y: 2.1},
                    {x: 2, y: 2.9},
                    {x: 3, y: 5.1},
                    {x: 4, y: 4.2},
                    {x: 5, y: 5.8}
                ];
            }

            if (a === null || b === null) {
                const n = points.length;
                const sumX = points.reduce((sum, p) => sum + p.x, 0);
                const sumY = points.reduce((sum, p) => sum + p.y, 0);
                const sumXY = points.reduce((sum, p) => sum + p.x * p.y, 0);
                const sumX2 = points.reduce((sum, p) => sum + p.x * p.x, 0);
                a = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
                b = (sumY - a * sumX) / n;
            }

            const regressionX = [Math.min(...points.map(p => p.x)), Math.max(...points.map(p => p.x))];
            const regressionY = regressionX.map(x => a * x + b);

            const traces = [
                {
                    x: points.map(p => p.x),
                    y: points.map(p => p.y),
                    mode: 'markers',
                    marker: {color: 'blue', size: 10},
                    name: 'Namƒõ≈ôen√° data'
                },
                {
                    x: regressionX,
                    y: regressionY,
                    mode: 'lines',
                    line: {color: '#ff6361', width: 3},
                    name: 'Line√°rn√≠ regrese'
                }
            ];

            const layout = {
                title: 'Line√°rn√≠ regrese (metoda nejmen≈°√≠ch ƒçtverc≈Ø)',
                xaxis: {title: 'x'},
                yaxis: {title: 'y'},
                showlegend: true,
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('linear-regression', traces, layout, {responsive: true});
        }

        function createPolynomialRegression() {
            // Sample data with quadratic trend + noise
            const points = [
                {x: 1, y: 1.2}, {x: 1.5, y: 2.1}, {x: 2, y: 3.8}, {x: 2.5, y: 6.2},
                {x: 3, y: 8.9}, {x: 3.5, y: 12.1}, {x: 4, y: 15.8}, {x: 4.5, y: 19.9},
                {x: 5, y: 24.2}
            ];

            // Linear regression
            const n = points.length;
            const sumX = points.reduce((sum, p) => sum + p.x, 0);
            const sumY = points.reduce((sum, p) => sum + p.y, 0);
            const sumXY = points.reduce((sum, p) => sum + p.x * p.y, 0);
            const sumX2 = points.reduce((sum, p) => sum + p.x * p.x, 0);
            const aLin = (n * sumXY - sumX * sumY) / (n * sumX2 - sumX * sumX);
            const bLin = (sumY - aLin * sumX) / n;

            // Quadratic regression (simplified)
            const aQuad = 1.2;
            const bQuad = -2.3;
            const cQuad = 1.8;

            const x = [];
            const yLinear = [];
            const yQuadratic = [];

            for (let xi = 1; xi <= 5; xi += 0.1) {
                x.push(xi);
                yLinear.push(aLin * xi + bLin);
                yQuadratic.push(aQuad * xi * xi + bQuad * xi + cQuad);
            }

            const traces = [
                {
                    x: points.map(p => p.x),
                    y: points.map(p => p.y),
                    mode: 'markers',
                    marker: {color: 'black', size: 8},
                    name: 'Data'
                },
                {
                    x: x,
                    y: yLinear,
                    mode: 'lines',
                    line: {color: '#ff6361', width: 2, dash: 'dash'},
                    name: 'Line√°rn√≠ regrese'
                },
                {
                    x: x,
                    y: yQuadratic,
                    mode: 'lines',
                    line: {color: '#ffa600', width: 3},
                    name: 'Kvadratick√° regrese'
                }
            ];

            const layout = {
                title: 'Polynomi√°ln√≠ regrese - srovn√°n√≠ stup≈à≈Ø',
                xaxis: {title: 'x'},
                yaxis: {title: 'y'},
                showlegend: true,
                margin: {l: 40, r: 40, t: 40, b: 40}
            };

            Plotly.newPlot('polynomial-regression', traces, layout, {responsive: true});
        }

        // Initialize graphs when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                createConceptComparison();
                createLinearInterpolation();
                createPolynomialInterpolation();
                createSplineInterpolation();
                createLinearRegressionGraph();
                createPolynomialRegression();
            }, 100);
        });
    </script>
</body>
</html>